<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-guides/deliver-input" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">How to deliver input streams | Live Compositor</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://compositor.live/docs/guides/deliver-input"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="How to deliver input streams | Live Compositor"><meta data-rh="true" name="description" content="Live Compositor currently supports 2 input types:"><meta data-rh="true" property="og:description" content="Live Compositor currently supports 2 input types:"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://compositor.live/docs/guides/deliver-input"><link data-rh="true" rel="alternate" href="https://compositor.live/docs/guides/deliver-input" hreflang="en"><link data-rh="true" rel="alternate" href="https://compositor.live/docs/guides/deliver-input" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-SEF91C2QGB"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-SEF91C2QGB",{anonymize_ip:!0})</script><link rel="stylesheet" href="/assets/css/styles.d5048fc6.css">
<script src="/assets/js/runtime~main.82d7ba47.js" defer="defer"></script>
<script src="/assets/js/main.2a1b38c5.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo-dark.svg" alt="logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link navbar-docs-link" aria-label="Docs" href="/docs/intro"></a><a href="https://github.com/membraneframework/live_compositor" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Getting started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/category/guides">Guides</a><button aria-label="Collapse sidebar category &#x27;Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/simple-scene">Simple scene</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/guides/deliver-input">Deliver input streams</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/receive-output">Receive output streams</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/view-transition">Transitions (View/Rescaler)</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/concept/overview">Concepts</a><button aria-label="Expand sidebar category &#x27;Concepts&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/deployment/overview">Deployment</a><button aria-label="Expand sidebar category &#x27;Deployment&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/category/api-reference">API Reference</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/routes">HTTP Routes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/events">Events</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0">Components</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/components/InputStream">InputStream</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/components/View">View</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/components/Rescaler">Rescaler</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/components/Tiles">Tiles</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/components/Text">Text</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/components/Shader">Shader</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/components/Image">Image</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/components/WebView">WebView</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0">Renderers</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/renderers/shader">Shader</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/renderers/image">Image</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/renderers/web">Web Renderer</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0">Outputs</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/outputs/rtp">RTP</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0">Inputs</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/inputs/rtp">RTP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/inputs/mp4">MP4</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/inputs/decklink">DeckLink</a></li></ul></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/guides"><span itemprop="name">Guides</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Deliver input streams</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>How to deliver input streams</h1>
<p>Live Compositor currently supports 2 input types:</p>
<ul>
<li>RTP</li>
<li>MP4 (not supported in the Membrane Framework plugin)</li>
</ul>
<p>MP4 support is useful if you want to add some prerecorded assets, but for most streaming use cases RTP protocol will be a primary choice.</p>
<p>Our RTP implementation supports the following codecs:</p>
<ul>
<li>H264 for video</li>
<li>AAC and Opus for audio (AAC is not supported via the Membrane Framework plugin)</li>
</ul>
<p>To deliver input from any other format you can use tools like FFmpeg, GStreamer or Membrane Framework to convert between RTP and the desired format.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="rtp-over-tcp-vs-udp">RTP over TCP vs UDP<a href="#rtp-over-tcp-vs-udp" class="hash-link" aria-label="Direct link to RTP over TCP vs UDP" title="Direct link to RTP over TCP vs UDP">​</a></h3>
<p>RTP streams can be delivered over TCP or UDP. Depending on your use case, a different choice might make more sense, but in general, we recommend using TCP if possible.</p>
<p>What to choose?</p>
<ul>
<li>If you are using the Membrane Framework plugin all communication already happens over TCP. Currently, we do not support any way to configure it.</li>
<li>Some of the popular multimedia tools do not support RTP over TCP e.g. FFmpeg.</li>
<li>UDP should only be used for communication on localhost. We do not support retransmission or packet reordering, so if you use it in an unreliable network it might lead to unexpected behavior.</li>
<li>UDP does not have a congestion control, so if you are using any non-real-time sources for inputs (e.g. streaming file with FFmpeg over RTP) then if you don&#x27;t throttle the input it might lead to high memory usage.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="what-to-use-to-stream-over-rtp">What to use to stream over RTP?<a href="#what-to-use-to-stream-over-rtp" class="hash-link" aria-label="Direct link to What to use to stream over RTP?" title="Direct link to What to use to stream over RTP?">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="membrane-framework">Membrane Framework<a href="#membrane-framework" class="hash-link" aria-label="Direct link to Membrane Framework" title="Direct link to Membrane Framework">​</a></h4>
<p>If you are using the Membrane Framework plugin you do not need anything else. Just connect appropriate input pads to the <code>LiveCompositor</code> bin.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="ffmpeg">FFmpeg<a href="#ffmpeg" class="hash-link" aria-label="Direct link to FFmpeg" title="Direct link to FFmpeg">​</a></h4>
<p>FFmpeg does not support RTP over TCP, so you are limited to UDP only.</p>
<p>Stream an H264 video from an MP4 file (without transcoding) over RTP to <code>127.0.0.1:9001</code>.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9a86fd"><span class="token plain">ffmpeg </span><span class="token parameter variable" style="color:#ffcc99">-re</span><span class="token plain"> </span><span class="token parameter variable" style="color:#ffcc99">-i</span><span class="token plain"> path_to_file.mp4 </span><span class="token parameter variable" style="color:#ffcc99">-an</span><span class="token plain"> </span><span class="token parameter variable" style="color:#ffcc99">-c:v</span><span class="token plain"> copy </span><span class="token punctuation" style="color:#6c6783">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token parameter variable" style="color:#ffcc99">-f</span><span class="token plain"> rtp </span><span class="token parameter variable" style="color:#ffcc99">-bsf:v</span><span class="token plain"> h264_mp4toannexb rtp://127.0.0.1:9001?rtcpport</span><span class="token operator" style="color:#e09142">=</span><span class="token number" style="color:#e09142">9001</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>-re</code> - Limits speed of transfer to send data in real-time. Without this option entire file would be sent very quickly.</li>
<li><code>-c:v copy</code> - Copy video without transcoding.</li>
<li><code>-an</code> - Ignore audio stream.</li>
<li><code>-bsf:v h264_mp4toannexb</code> - Convert H264 to AnnexB bitstream format (no transcoding is necessary)</li>
</ul>
<p>Stream a video from supported file formats (potentially with transcoding) over RTP to <code>127.0.0.1:9001</code></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9a86fd"><span class="token plain">ffmpeg </span><span class="token parameter variable" style="color:#ffcc99">-re</span><span class="token plain"> </span><span class="token parameter variable" style="color:#ffcc99">-i</span><span class="token plain"> path_to_file </span><span class="token parameter variable" style="color:#ffcc99">-an</span><span class="token plain"> </span><span class="token parameter variable" style="color:#ffcc99">-c:v</span><span class="token plain"> libx264 </span><span class="token parameter variable" style="color:#ffcc99">-f</span><span class="token plain"> rtp rtp://127.0.0.1:9001?rtcpport</span><span class="token operator" style="color:#e09142">=</span><span class="token number" style="color:#e09142">9001</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Stream OPUS audio from supported file formats (potentially with transcoding) over RTP to <code>127.0.0.1:9001</code></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9a86fd"><span class="token plain">ffmpeg </span><span class="token parameter variable" style="color:#ffcc99">-re</span><span class="token plain"> </span><span class="token parameter variable" style="color:#ffcc99">-i</span><span class="token plain"> path_to_file </span><span class="token parameter variable" style="color:#ffcc99">-vn</span><span class="token plain"> </span><span class="token parameter variable" style="color:#ffcc99">-c:a</span><span class="token plain"> libopus </span><span class="token parameter variable" style="color:#ffcc99">-f</span><span class="token plain"> rtp rtp://127.0.0.1:9001?rtcpport</span><span class="token operator" style="color:#e09142">=</span><span class="token number" style="color:#e09142">9001</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="gstreamer">GStreamer<a href="#gstreamer" class="hash-link" aria-label="Direct link to GStreamer" title="Direct link to GStreamer">​</a></h4>
<p>Stream audio and video from a MP4 file over RTP TCP:</p>
<ul>
<li>video to <code>127.0.0.1:9001</code></li>
<li>audio to <code>127.0.0.1:9002</code></li>
</ul>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9a86fd"><span class="token plain">gst-launch-1.0 filesrc </span><span class="token assign-left variable" style="color:#ffcc99">location</span><span class="token operator" style="color:#e09142">=</span><span class="token plain">path_to_file.mp4 </span><span class="token operator" style="color:#e09142">!</span><span class="token plain"> qtdemux </span><span class="token assign-left variable" style="color:#ffcc99">name</span><span class="token operator" style="color:#e09142">=</span><span class="token plain">demux </span><span class="token punctuation" style="color:#6c6783">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token operator" style="color:#e09142">!</span><span class="token plain"> demux.video_0 </span><span class="token operator" style="color:#e09142">!</span><span class="token plain"> queue </span><span class="token operator" style="color:#e09142">!</span><span class="token plain"> h264parse </span><span class="token operator" style="color:#e09142">!</span><span class="token plain"> rtph264pay config-interval</span><span class="token operator" style="color:#e09142">=</span><span class="token number" style="color:#e09142">1</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token operator" style="color:#e09142">!</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;application/x-rtp,payload=96&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">!</span><span class="token plain"> rtpstreampay </span><span class="token operator" style="color:#e09142">!</span><span class="token plain"> tcpclientsink </span><span class="token assign-left variable" style="color:#ffcc99">host</span><span class="token operator" style="color:#e09142">=</span><span class="token number" style="color:#e09142">127.0</span><span class="token plain">.0.1 </span><span class="token assign-left variable" style="color:#ffcc99">port</span><span class="token operator" style="color:#e09142">=</span><span class="token number" style="color:#e09142">9001</span><span class="token plain">  </span><span class="token punctuation" style="color:#6c6783">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token operator" style="color:#e09142">!</span><span class="token plain"> demux.audio_0 </span><span class="token operator" style="color:#e09142">!</span><span class="token plain"> queue </span><span class="token operator" style="color:#e09142">!</span><span class="token plain"> decodebin </span><span class="token operator" style="color:#e09142">!</span><span class="token plain"> audioconvert </span><span class="token operator" style="color:#e09142">!</span><span class="token plain"> audioresample </span><span class="token operator" style="color:#e09142">!</span><span class="token plain"> opusenc </span><span class="token operator" style="color:#e09142">!</span><span class="token plain"> rtpopuspay </span><span class="token punctuation" style="color:#6c6783">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token operator" style="color:#e09142">!</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;application/x-rtp,payload=97&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">!</span><span class="token plain"> rtpstreampay </span><span class="token operator" style="color:#e09142">!</span><span class="token plain"> tcpclientsink </span><span class="token assign-left variable" style="color:#ffcc99">host</span><span class="token operator" style="color:#e09142">=</span><span class="token number" style="color:#e09142">127.0</span><span class="token plain">.0.1 </span><span class="token assign-left variable" style="color:#ffcc99">port</span><span class="token operator" style="color:#e09142">=</span><span class="token number" style="color:#e09142">9002</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>&quot;application/x-rtp,payload=97&quot;</code>/<code>&quot;application/x-rtp,payload=97&quot;</code> - Compositor detects audio stream based on payload type. It needs
to be set to 96 for video and 97 for audio.</li>
<li><code>decodebin ! audioconvert ! audioresample ! opusenc</code> - Transcode audio (most likely from AAC) from MP4 file into Opus. If you know
what format is inside you can simplify this part.</li>
<li>Compositor supports multiplexing audio and video stream on the same port, but it is hard to create a GStreamer pipeline that demuxes
audio and video tracks converts them to RTP and multiplex them on the same port.</li>
</ul>
<p>To stream over UDP replace <code>rtpstreampay ! tcpclientsink host=127.0.0.1 port=9002</code> with <nobr><code>udpsink host=127.0.0.1 port=9002</code></nobr>.
Additionally, you can use the same port for video and audio.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/guides/simple-scene"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Simple scene</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/guides/receive-output"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">How to receive output streams</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#rtp-over-tcp-vs-udp" class="table-of-contents__link toc-highlight">RTP over TCP vs UDP</a></li><li><a href="#what-to-use-to-stream-over-rtp" class="table-of-contents__link toc-highlight">What to use to stream over RTP?</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Software Mansion S.A.</div></div></div></footer></div>
</body>
</html>